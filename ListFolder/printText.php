<?phpinclude("loadVar.php");include("functions.php");printAllFiles($path, 0, $maxDepth);function printAllFiles($path, $depth, $maxDepth){	$depth++;		$lastSlash = strrpos($path, '/');	if($lastSlash <= 0)		$lastSlash = -1;	$folderName = substr($path, $lastSlash+1, strlen($path)-$lastSlash-1);	printIndent($depth-1);	echo "<b>$folderName</b><br/>";	if($maxDepth != 0 && $depth > $maxDepth)		return;	$dir = @opendir($path);	if($dir === FALSE)	{		echo "<font color = 'orange'>Impossible de lire '".$path."'</font><br />";		continue;	}	$dirs = array();	while($file = readdir($dir))	{		if($file == '.' || $file == '..')			continue;		if(is_dir($path.'/'.$file))			$dirs[] = $path.'/'.$file;		else		{			printIndent($depth);			echo $file."<br/>";		}	}	foreach($dirs as $onedir)		printAllFiles($onedir, $depth, $maxDepth);	closedir($dir);}?>